<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Happy Birthday, Hassaneh üíñ</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html,body { height:100%; overflow:hidden; font-family:'Poppins', sans-serif; }

    /* Start Screen */
    #start {
      display:flex; align-items:center; justify-content:center;
      height:100vh; 
      background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fad0c4, #fbc2eb);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
    }
    @keyframes gradientBG {
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }
    #btnStart {
      font-family:'Pacifico', cursive;
      font-size:2.5rem; padding:16px 32px;
      background:#e91e63; color:white; border:none;
      border-radius:40px; cursor:pointer;
      box-shadow:0 6px 15px rgba(0,0,0,0.3);
      transition:transform 0.2s, box-shadow 0.2s;
    }
    #btnStart:active {
      transform:scale(0.95);
      box-shadow:0 4px 10px rgba(0,0,0,0.2);
    }

    /* Main Container */
    #container { display:none; position:relative; width:100%; height:100vh; overflow:hidden; }

    /* Bloom Canvas */
    canvas { display:block; width:100%; height:100%; }

    /* Overlay for readability */
    #overlay {
      position:absolute; top:0; left:0;
      width:100%; height:100%;
      background:rgba(0,0,0,0.3);
      pointer-events:none;
    }

    /* Message Style */
    #message {
      position:absolute; top:10%; width:90%;
      left:50%; transform:translateX(-50%);
      color:white; font-size:1.3rem;
      text-align:center; font-family:'Dancing Script', cursive;
      white-space:pre-line;
      text-shadow:2px 2px 6px rgba(0,0,0,0.5);
    }

    /* Timer Style */
    #clock {
      position:absolute; bottom:8%; width:100%;
      text-align:center; color:white;
      font-family:'Pacifico', cursive;
      font-size:1.5rem;
      text-shadow:0 0 8px #ff9a9e;
    }
  </style>
</head>
<body>

  <div id="start">
    <button id="btnStart">Click here cutie üíñ</button>
  </div>

  <div id="container">
    <canvas id="bloom"></canvas>
    <div id="overlay"></div>
    <div id="message"></div>
    <div id="clock"></div>
  </div>

  <audio id="bgm" src="aud.mp3" loop></audio>

  <script>
    const btn = document.getElementById('btnStart'),
          container = document.getElementById('container'),
          start = document.getElementById('start'),
          msgEl = document.getElementById('message'),
          clockEl = document.getElementById('clock'),
          bgm = document.getElementById('bgm');

    const fullMsg = 
`Happy Birthday, Hassaneh! üéÇ‚ú®
Hey cutie üå∏

Since that day in 2005, this world has been brighter,
lit up by your smile, your kindness, your pure heart.

You are a gift who inspires joy every moment.
I‚Äôm grateful for every second you‚Äôve shared with everyone.
Here‚Äôs to you‚Äîtoday, tomorrow, and forever. üíù`;

    let idx = 0;

    function typeWriter() {
      if(idx < fullMsg.length) {
        msgEl.textContent += fullMsg[idx++];
        setTimeout(typeWriter, 40);
      }
    }

    function updateClock() {
      const startTime = new Date('2005-07-01T00:00:00').getTime();
      const diff = Date.now() - startTime;
      const d = Math.floor(diff / 86400000);
      const h = Math.floor((diff%86400000)/3600000);
      const m = Math.floor((diff%3600000)/60000);
      const s = Math.floor((diff%60000)/1000);
      clockEl.textContent = `It‚Äôs been ${d}d ${h}h ${m}m ${s}s of brighter days üíñ`;
    }

    function startBloom() {
      const canvas = document.getElementById('bloom');
      const ctx = canvas.getContext('2d');
      const w = canvas.width = window.innerWidth;
      const h = canvas.height = window.innerHeight;
      const particles = [];

      function P() {
        this.x = Math.random() * w;
        this.y = h + Math.random() * 100;
        this.r = Math.random() * 4 + 2;
        this.d = Math.random() * 2;
        this.speed = Math.random() * 1 + 0.2;
        this.a = Math.random() * Math.PI * 2;
        this.alpha = 0;
      }

      P.prototype.update = function() {
        this.y -= this.speed;
        this.x += Math.sin(this.d * this.y) * 0.5;
        this.alpha = Math.sin((h - this.y) / h * Math.PI);
        if (this.y < -10) this.y = h + 10;
      };

      function draw() {
        ctx.clearRect(0,0,w,h);
        particles.forEach(p => {
          ctx.beginPath();
          ctx.fillStyle = `rgba(233,30,99,${p.alpha})`;
          ctx.arc(p.x, p.y, p.r, 0, 2*Math.PI);
          ctx.fill();
          p.update();
        });
        requestAnimationFrame(draw);
      }

      for(let i=0;i<150;i++) particles.push(new P());
      draw();
    }

    btn.addEventListener('click', () => {
      bgm.play();
      start.style.display = 'none';
      container.style.display = 'block';
      startBloom();
      typeWriter();
      updateClock();
      setInterval(updateClock, 1000);
    });
  </script>

</body>
</html>